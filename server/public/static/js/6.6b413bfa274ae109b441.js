webpackJsonp([6],{"+S3x":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("EUvF"),n=a("UEpu"),r=a("VU/8"),s=r(i.a,n.a,!1,null,null,null);t.default=s.exports},EUvF:function(e,t,a){"use strict";var i=a("Xxa5"),n=a.n(i),r=a("exGp"),s=a.n(r),c=a("Dd8w"),o=a.n(c),u=a("NYxO"),l=a("r4OS"),p=a("YN9C");t.a={components:{RecipesListItem:p.a},props:[],data:function(){return{recipes:{},catid:null,selectOptionsCategory:[]}},computed:o()({},Object(u.b)(["gcatid"])),methods:{goToRecipe:function(e){this.$router.push({name:"recipe",params:{id:e}})},setCat:function(){this.$store.dispatch("setCat",this.catid),this.getRecipes()},createRecipe:function(){var e=this;return s()(n.a.mark(function t(){var a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:"Rezeptname",portions:4,recipecategory_id:6,imgpath:""},t.next=3,l.a.post("/api/recipes",a);case 3:return t.next=5,l.a.get("api/recipe/max");case 5:return i=t.sent,a.imgpath="https://admin.matbz.com/"+i.data.maxid+".jpg",t.next=9,l.a.put("/api/recipes/"+i.data.maxid,a);case 9:e.goToRecipe(i.data.maxid);case 10:case"end":return t.stop()}},t,e)}))()},deleteRecipe:function(e){var t=this;return s()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.delete("/api/recipes/"+e);case 2:t.getRecipes();case 3:case"end":return a.stop()}},a,t)}))()},getRecipes:function(){var e=this;return s()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,!(e.gcatid>0)){t.next=7;break}return t.next=4,l.a.get("/api/irecipes/"+e.gcatid);case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,l.a.get("/api/recipes");case 9:a=t.sent;case 10:e.recipes=a.data;case 11:case"end":return t.stop()}},t,e)}))()},confirm:function(e,t){var a=this;this.$modal.show("dialog",{title:"Bestätigung",text:"Diesen Eintrag wirklich löschen?",buttons:[{title:"Ja",handler:function(){e(t),a.$modal.hide("dialog")}},{title:"Nein"}]})}},created:function(){var e=this;return s()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.getRecipes(),t.next=3,l.a.get("api/recipecategories");case 3:a=t.sent,e.categories=a.data,e.categories.forEach(function(t){e.selectOptionsCategory.push({value:t.id,label:t.name})}),e.gcatid>0&&(e.catid=e.gcatid);case 7:case"end":return t.stop()}},t,e)}))()}}},UEpu:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ynab-u"},[a("div",{staticClass:"header"}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"pure-g add-list"},[a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"turnover-group"},[a("span",[e._v("Kategorie:\n              "),a("el-select",{staticClass:"s-rcategories2 rinput",attrs:{clearable:""},on:{change:e.setCat},model:{value:e.catid,callback:function(t){e.catid=t},expression:"catid"}},e._l(e.selectOptionsCategory,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("button",{staticClass:"button",staticStyle:{"margin-left":"18em"},attrs:{title:"Neues Rezept anlegen"},on:{click:function(t){return e.createRecipe()}}},[e._v("Neues Rezept anlegen")])])])]),e._v(" "),a("table",{staticClass:"pure-table theader igt rt"},[e._m(0),e._v(" "),a("tbody",e._l(e.recipes,function(t){return a("tr",{key:t.id},[a("td",{staticStyle:{width:"25em",cursor:"pointer"},on:{click:function(a){return e.goToRecipe(t.id)}}},[e._v(e._s(t.name))]),e._v(" "),a("td",[a("i",{staticClass:"fa fa-trash-o",staticStyle:{"margin-left":"1em"},on:{click:function(a){return e.confirm(e.deleteRecipe,t.id)}}})])])}),0)])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Löschen")])])])}],r={render:i,staticRenderFns:n};t.a=r},XtZN:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"pure-u-1",on:{click:function(t){return e.goToRecipe(e.item.id)}}},[a("span",{staticClass:"recipelistitem"},[e._v(e._s(e.item.name))])])},n=[],r={render:i,staticRenderFns:n};t.a=r},YN9C:function(e,t,a){"use strict";var i=a("h5lk"),n=a("XtZN"),r=a("VU/8"),s=r(i.a,n.a,!1,null,null,null);t.a=s.exports},h5lk:function(e,t,a){"use strict";t.a={props:["item"],methods:{goToRecipe:function(e){this.$router.push({name:"recipe",params:{id:e}})}}}}});